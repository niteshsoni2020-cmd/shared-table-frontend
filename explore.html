<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Shared Table Story — Explore</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Inter Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;900&display=swap" rel="stylesheet" />

  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
  </style>
</head>
<body class="bg-gray-50 text-gray-900">

  <!-- NAVBAR -->
  <header class="bg-white/90 backdrop-blur border-b border-gray-200 sticky top-0 z-30">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
      <a href="index.html" class="flex items-center gap-2">
        <span class="inline-flex h-8 w-8 items-center justify-center rounded-full bg-gray-900 text-white text-sm font-bold">
          T
        </span>
        <div class="flex flex-col leading-tight">
          <span class="text-sm font-semibold tracking-wide">The Shared Table Story</span>
          <span class="text-xs text-gray-500">Real people. Real tables. Real stories.</span>
        </div>
      </a>

      <nav class="hidden md:flex items-center gap-4 text-sm">
        <a href="explore.html" class="text-gray-900 font-medium">Explore</a>
        <a href="host-dashboard.html" class="text-gray-600 hover:text-gray-900">Host</a>
        <a href="about.html" class="text-gray-600 hover:text-gray-900">About</a>
      </nav>

      <div class="flex items-center gap-2">
        <a href="login.html" class="hidden sm:inline-flex text-sm text-gray-700 hover:text-gray-900">
          Log in
        </a>
        <a href="signup.html" class="inline-flex items-center rounded-full bg-gray-900 px-3 py-1.5 text-xs font-semibold text-white shadow-sm hover:bg-black">
          Sign up
        </a>
      </div>
    </div>
  </header>

  <!-- FILTER BAR (with smart price filter) -->
  <section class="bg-white/95 backdrop-blur border-b border-gray-200">
    <div class="max-w-6xl mx-auto px-4 py-4 space-y-4">

      <!-- TOP FILTER ROW: SEARCH / DATE / GUESTS / LOCATION -->
      <div class="flex flex-col gap-3 md:flex-row md:items-end md:justify-between">

        <!-- Left block: search + meta -->
        <div class="flex-1 space-y-2">
          <div class="flex flex-col sm:flex-row sm:items-end sm:gap-3">
            <!-- Search -->
            <div class="flex-1">
              <label for="searchInput" class="block text-xs font-semibold text-gray-600 tracking-wide uppercase">
                What are you craving?
              </label>
              <input
                id="searchInput"
                type="text"
                placeholder="Search by cuisine, vibe, neighbourhood…"
                class="mt-1 w-full rounded-lg border border-gray-300 px-3 py-1.5 text-sm focus:outline-none focus:ring-1 focus:ring-gray-900 focus:border-gray-900"
              />
            </div>

            <!-- Date -->
            <div class="w-full sm:w-40">
              <label for="dateFilter" class="block text-xs font-semibold text-gray-600 tracking-wide uppercase">
                Date
              </label>
              <input
                id="dateFilter"
                type="date"
                class="mt-1 w-full rounded-lg border border-gray-300 px-3 py-1.5 text-sm focus:outline-none focus:ring-1 focus:ring-gray-900 focus:border-gray-900"
              />
            </div>

            <!-- Guests -->
            <div class="w-full sm:w-32">
              <label for="guestsFilter" class="block text-xs font-semibold text-gray-600 tracking-wide uppercase">
                Guests
              </label>
              <input
                id="guestsFilter"
                type="number"
                min="1"
                step="1"
                placeholder="2"
                class="mt-1 w-full rounded-lg border border-gray-300 px-3 py-1.5 text-sm focus:outline-none focus:ring-1 focus:ring-gray-900 focus:border-gray-900"
              />
            </div>
          </div>

          <!-- Location -->
          <div class="flex flex-col sm:flex-row sm:items-end sm:gap-3">
            <div class="w-full sm:w-64">
              <label for="locationFilter" class="block text-xs font-semibold text-gray-600 tracking-wide uppercase">
                Location
              </label>
              <input
                id="locationFilter"
                type="text"
                placeholder="Melbourne, Sydney, Fitzroy, CBD…"
                class="mt-1 w-full rounded-lg border border-gray-300 px-3 py-1.5 text-sm focus:outline-none focus:ring-1 focus:ring-gray-900 focus:border-gray-900"
              />
            </div>
          </div>
        </div>

        <!-- Right block: Apply / Clear -->
        <div class="flex items-end gap-2 justify-end mt-2 md:mt-0">
          <button
            id="clearAllFiltersBtn"
            type="button"
            class="inline-flex items-center rounded-lg border border-gray-300 px-3 py-1.5 text-xs font-medium text-gray-700 hover:bg-gray-100"
          >
            Clear all
          </button>
          <button
            id="applyFiltersBtn"
            type="button"
            class="inline-flex items-center rounded-lg bg-gray-900 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-black"
          >
            Apply filters
          </button>
        </div>
      </div>

      <!-- PRICE + SMART PRESETS -->
      <div class="flex flex-col gap-3 md:flex-row md:items-center md:justify-between">
        <!-- Manual price entry -->
        <div>
          <label class="block text-xs font-semibold text-gray-600 tracking-wide uppercase">
            Price range (per guest)
          </label>

          <div class="mt-2 flex items-center gap-3">
            <!-- Min -->
            <div class="flex items-center gap-1">
              <span class="text-sm text-gray-500">$</span>
              <input
                id="minPrice"
                type="number"
                min="0"
                step="5"
                placeholder="Min"
                class="w-24 rounded-lg border border-gray-300 px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-gray-900 focus:border-gray-900"
              />
            </div>

            <span class="text-gray-400 text-sm">to</span>

            <!-- Max -->
            <div class="flex items-center gap-1">
              <span class="text-sm text-gray-500">$</span>
              <input
                id="maxPrice"
                type="number"
                min="0"
                step="5"
                placeholder="Max"
                class="w-24 rounded-lg border border-gray-300 px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-gray-900 focus:border-gray-900"
              />
            </div>

            <!-- Clear price -->
            <button
              id="clearPriceFilter"
              type="button"
              class="text-xs text-gray-500 underline underline-offset-2 hover:text-gray-700 ml-1"
            >
              Clear price
            </button>
          </div>

          <p id="priceSummary" class="mt-1 text-xs text-gray-500">
            Any price
          </p>
          <p id="smartPriceHint" class="mt-0.5 text-xs text-gray-400">
            Smart filter will auto-tune once we see results.
          </p>
        </div>

        <!-- Smart presets -->
        <div class="flex flex-wrap gap-2 md:justify-end">
          <button
            type="button"
            data-price-preset
            data-min=""
            data-max=""
            class="price-preset-chip inline-flex items-center rounded-full border border-gray-900 px-3 py-1 text-xs font-medium text-gray-900 bg-gray-100"
          >
            Any
          </button>

          <button
            type="button"
            data-price-preset
            data-min="0"
            data-max="40"
            class="price-preset-chip inline-flex items-center rounded-full border border-gray-300 px-3 py-1 text-xs font-medium text-gray-700 hover:border-gray-900 hover:text-gray-900"
          >
            Budget (&lt; $40)
          </button>

          <button
            type="button"
            data-price-preset
            data-min="40"
            data-max="80"
            class="price-preset-chip inline-flex items-center rounded-full border border-gray-300 px-3 py-1 text-xs font-medium text-gray-700 hover:border-gray-900 hover:text-gray-900"
          >
            Standard ($40–80)
          </button>

          <button
            type="button"
            data-price-preset
            data-min="80"
            data-max="150"
            class="price-preset-chip inline-flex items-center rounded-full border border-gray-300 px-3 py-1 text-xs font-medium text-gray-700 hover:border-gray-900 hover:text-gray-900"
          >
            Premium ($80–150)
          </button>

          <button
            type="button"
            data-price-preset
            data-min="150"
            data-max=""
            class="price-preset-chip inline-flex items-center rounded-full border border-gray-300 px-3 py-1 text-xs font-medium text-gray-700 hover:border-gray-900 hover:text-gray-900"
          >
            Luxury (&gt; $150)
          </button>
        </div>
      </div>

      <!-- ACTIVE FILTER CHIPS (smart) -->
      <div id="activeFiltersBar" class="flex flex-wrap gap-2 text-xs"></div>

      <!-- META LINE: count + summary -->
      <div class="flex items-center justify-between text-xs text-gray-500 mt-1">
        <p id="resultMetaText">Loading experiences…</p>
      </div>
    </div>
  </section>

  <!-- RESULTS GRID -->
  <main class="max-w-6xl mx-auto px-4 py-6">
    <div
      id="experienceGrid"
      class="grid gap-5 sm:grid-cols-2 lg:grid-cols-3 auto-rows-fr"
    >
      <!-- JS will inject cards here -->
    </div>

    <!-- Empty state -->
    <div id="emptyState" class="hidden text-center py-16 text-sm text-gray-500">
      No tables match these filters yet. Try widening your price or date.
    </div>
  </main>

  <!-- FOOTER -->
  <footer class="border-t border-gray-200 mt-8">
    <div class="max-w-6xl mx-auto px-4 py-6 text-xs text-gray-500 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2">
      <p>&copy; <span id="yearSpan"></span> The Shared Table Story.</p>
      <div class="flex gap-3">
        <a href="terms.html" class="hover:text-gray-700">Terms</a>
        <a href="privacy.html" class="hover:text-gray-700">Privacy</a>
      </div>
    </div>
  </footer>

  <script>
    document.getElementById('yearSpan').textContent = new Date().getFullYear();
  </script>

  <!-- EXPLORE LOGIC -->
  <script src="explore.js"></script>
</body>
</html>
