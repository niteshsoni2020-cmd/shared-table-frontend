<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Explore ‚Äì The Shared Table Story</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Icons & Fonts -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
  />
  <link
    href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap"
    rel="stylesheet"
  />

  <style>
    body {
      font-family: "Plus Jakarta Sans", sans-serif;
    }
    /* optional: hide scrollbars for horizontal chip bar */
    .scrollbar-hide::-webkit-scrollbar {
      display: none;
    }
    .scrollbar-hide {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
  </style>
</head>
<body class="bg-gray-50 text-gray-900 flex flex-col min-h-screen">
  <!-- NAVBAR INJECTED BY common.js -->
  <nav id="navbar-placeholder"></nav>

  <!-- Sticky search / filter bar -->
  <div class="bg-white shadow-sm border-b border-gray-100 sticky top-[72px] z-40">
    <div class="max-w-6xl mx-auto px-4 py-3">
      <!-- Top row: title + search + date + filter button -->
      <div class="flex flex-col gap-3 md:flex-row md:items-center md:justify-between">
        <div>
          <h1 class="text-lg md:text-xl font-semibold text-gray-900">
            Discover shared tables near you
          </h1>
          <p class="text-xs md:text-sm text-gray-500 mt-1">
            Find home-cooked meals, supper clubs, and cultural food experiences.
          </p>
        </div>

        <div class="flex flex-col md:flex-row gap-2 md:items-center">
          <!-- Search -->
          <div class="flex items-center bg-gray-50 border border-gray-200 rounded-full px-3 py-2 w-full md:w-64">
            <i class="fas fa-search text-gray-400 text-sm mr-2"></i>
            <input
              id="search-input"
              type="text"
              placeholder="Search by city, cuisine or host"
              class="bg-transparent outline-none flex-1 text-sm text-gray-800"
            />
          </div>

          <!-- Date -->
          <div
            class="flex items-center bg-gray-50 border border-gray-200 rounded-full px-3 py-2 w-full md:w-44"
          >
            <i class="fas fa-calendar-alt text-gray-400 text-sm mr-2"></i>
            <input
              id="date-input"
              type="date"
              class="bg-transparent outline-none text-sm text-gray-800 w-full"
            />
          </div>

          <!-- Filters button -->
          <button
            id="filter-btn"
            class="px-4 py-2 bg-white border border-gray-200 rounded-full text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-center gap-2"
            type="button"
          >
            <i class="fas fa-sliders-h text-xs"></i>
            <span>Filters</span>
          </button>
        </div>
      </div>

      <!-- Filter panel (toggles open/close) -->
      <div
        id="filter-panel"
        class="hidden mt-3 p-4 bg-gray-50 rounded-xl border border-gray-200"
      >
        <div class="flex flex-col md:flex-row gap-6 items-center">
          <!-- Price Range -->
          <div class="w-full md:w-auto">
            <label
              class="block text-xs font-bold text-gray-500 uppercase mb-1"
            >
              Price Range (AUD)
            </label>
            <div class="flex items-center gap-2">
              <input
                type="number"
                id="min-price"
                placeholder="Min"
                min="0"
                step="1"
                class="w-24 px-3 py-2 rounded border border-gray-300 text-sm"
              />
              <span class="text-gray-400">‚Äì</span>
              <input
                type="number"
                id="max-price"
                placeholder="Max"
                min="0"
                step="1"
                class="w-24 px-3 py-2 rounded border border-gray-300 text-sm"
              />
            </div>
          </div>

          <!-- Apply button -->
          <div class="w-full md:w-auto flex items-end pt-4">
            <button
              id="apply-filters"
              type="button"
              class="bg-gray-900 text-white px-6 py-2 rounded-lg text-sm font-medium hover:bg-black transition"
            >
              Apply
            </button>
          </div>
        </div>
      </div>

      <!-- Category chips -->
      <div
        id="category-chips"
        class="flex gap-2 mt-3 overflow-x-auto pb-2 scrollbar-hide"
      >
        <button
          class="filter-chip px-4 py-2 rounded-full text-xs font-medium bg-gray-900 text-white whitespace-nowrap"
          data-category="all"
          type="button"
        >
          All
        </button>
        <button
          class="filter-chip px-4 py-2 rounded-full text-xs font-medium bg-white border border-gray-200 text-gray-600 whitespace-nowrap"
          data-category="Dinner"
          type="button"
        >
          Dinner
        </button>
        <button
          class="filter-chip px-4 py-2 rounded-full text-xs font-medium bg-white border border-gray-200 text-gray-600 whitespace-nowrap"
          data-category="Lunch"
          type="button"
        >
          Lunch
        </button>
        <button
          class="filter-chip px-4 py-2 rounded-full text-xs font-medium bg-white border border-gray-200 text-gray-600 whitespace-nowrap"
          data-category="Cooking Class"
          type="button"
        >
          Cooking Class
        </button>
        <button
          class="filter-chip px-4 py-2 rounded-full text-xs font-medium bg-white border border-gray-200 text-gray-600 whitespace-nowrap"
          data-category="Culture"
          type="button"
        >
          Culture
        </button>
      </div>
    </div>
  </div>

  <!-- MAIN GRID -->
  <div class="max-w-6xl mx-auto px-4 py-8 flex-grow">
    <div
      id="experiences-grid"
      class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"
    ></div>

    <!-- No results state -->
    <div id="no-results" class="hidden text-center py-12">
      <div class="text-6xl mb-4">üçÇ</div>
      <h3 class="text-xl font-bold text-gray-900 mb-2">
        No experiences found
      </h3>
      <p class="text-gray-500 mb-4 text-sm">
        Try adjusting your search, date, or filters.
      </p>
      <button
        type="button"
        onclick="document.getElementById('search-input').value=''; document.getElementById('date-input').value=''; document.getElementById('min-price').value=''; document.getElementById('max-price').value='';"
        class="inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-full text-xs font-medium text-gray-700 hover:bg-gray-50"
      >
        Clear filters
      </button>
    </div>
  </div>

  <!-- FOOTER INJECTED BY common.js -->
  <footer id="footer-placeholder"></footer>

  <!-- Shared helpers (API_BASE, showModal, getToken, navbar/footer injection) -->
  <script src="js/common.js"></script>
  <!-- Explore page logic (the explore.js we just fixed) -->
  <script src="js/explore.js"></script>
</body>
</html>
