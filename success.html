<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Booking Success — The Shared Table Story</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&family=Playfair+Display:wght@500;600;700&display=swap"
    rel="stylesheet"
  />

  <style>
    body {
      font-family: 'Plus Jakarta Sans', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }
    .heading-serif {
      font-family: 'Playfair Display', Georgia, "Times New Roman", serif;
    }
  </style>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'tsts-cream': '#F5EDE6',
            'tsts-soft': '#FDF9F5',
            'tsts-ink': '#1F2933',
            'tsts-green': '#16A34A',
            'tsts-green-soft': '#DCFCE7',
            'tsts-clay': '#C28D6B'
          },
          boxShadow: {
            'soft-card': '0 18px 35px rgba(15, 23, 42, 0.12)'
          },
          borderRadius: {
            '3xl': '1.5rem'
          }
        }
      }
    }
  </script>
<link rel="manifest" href="manifest.json">
</head>

<body class="bg-tsts-cream text-slate-900">
  <!-- Shared Navbar Placeholder -->
  <nav id="navbar-placeholder"></nav>

  <main class="min-h-[70vh]">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-0 py-10 sm:py-12 lg:py-16">
      <!-- Loading State -->
      <section
        id="loading-state"
        class="flex flex-col items-center justify-center text-center py-16 space-y-4"
      >
        <div class="h-14 w-14 border-4 border-emerald-400 border-t-transparent rounded-full animate-spin mb-2"></div>
        <h1 class="heading-serif text-2xl sm:text-3xl font-semibold text-tsts-ink">
          Confirming your seat at the table…
        </h1>
        <p class="text-sm sm:text-base text-slate-700 max-w-md">
          We’re just checking your payment and securing your spot. This usually takes a few seconds.
        </p>
      </section>

      <!-- Success State -->
      <section
        id="success-state"
        class="hidden space-y-8"
      >
        <!-- Hero / Checkmark -->
        <div class="bg-white/90 border border-white shadow-soft-card rounded-3xl px-6 sm:px-10 py-8 sm:py-10 text-center">
          <div class="mx-auto mb-5 flex h-16 w-16 items-center justify-center rounded-full bg-tsts-green-soft">
            <svg class="h-9 w-9 text-tsts-green" viewBox="0 0 24 24" fill="none">
              <path
                d="M9.00039 16.1998L5.80039 12.9998C5.41039 12.6098 4.78039 12.6098 4.39039 12.9998C4.00039 13.3898 4.00039 14.0198 4.39039 14.4098L8.29039 18.3098C8.68039 18.6998 9.31039 18.6998 9.70039 18.3098L20.3004 7.70984C20.6904 7.31984 20.6904 6.68984 20.3004 6.29984C19.9104 5.90984 19.2804 5.90984 18.8904 6.29984L9.00039 16.1998Z"
                fill="currentColor"
              />
            </svg>
          </div>

          <h1 class="heading-serif text-2xl sm:text-3xl font-semibold text-tsts-ink mb-2">
            Your booking is confirmed!
          </h1>
          <p class="text-sm sm:text-base text-slate-700 max-w-xl mx-auto">
            You’re all set. We’ve saved your seat at the table and sent a confirmation to your email.
          </p>
        </div>

        <!-- Booking Summary Card -->
        <div
          id="booking-summary-card"
          class="bg-tsts-soft border border-white shadow-soft-card rounded-3xl px-5 sm:px-7 py-6 sm:py-7 flex flex-col sm:flex-row gap-4 sm:gap-6"
        >
          <div class="flex-shrink-0 w-full sm:w-40">
            <img
              id="success-exp-image"
              alt="Experience image"
              class="w-full h-40 sm:h-32 object-cover rounded-2xl border border-white shadow-md bg-slate-200"
            />
          </div>

          <div class="flex-1 space-y-2">
            <p class="text-xs uppercase tracking-[0.18em] text-slate-500">
              Your experience
            </p>
            <h2
              id="success-exp-title"
              class="heading-serif text-lg sm:text-xl font-semibold text-tsts-ink"
            >
              <!-- Filled by JS -->
            </h2>

            <div class="flex flex-wrap gap-3 text-sm text-slate-700 mt-2">
              <div class="inline-flex items-center gap-2">
                <span class="inline-flex h-6 w-6 items-center justify-center rounded-full bg-white shadow border border-slate-200">
                  <svg class="h-3.5 w-3.5 text-slate-600" viewBox="0 0 24 24" fill="none">
                    <path
                      d="M12 7V12L15 15"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <circle
                      cx="12"
                      cy="12"
                      r="8"
                      stroke="currentColor"
                      stroke-width="1.6"
                    />
                  </svg>
                </span>
                <span id="success-exp-date">Date: —</span>
              </div>

              <div class="inline-flex items-center gap-2">
                <span class="inline-flex h-6 w-6 items-center justify-center rounded-full bg-white shadow border border-slate-200">
                  <svg class="h-3.5 w-3.5 text-slate-600" viewBox="0 0 24 24" fill="none">
                    <path
                      d="M3 7H21"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linecap="round"
                    />
                    <path
                      d="M7 3V7"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linecap="round"
                    />
                    <path
                      d="M17 3V7"
                      stroke="currentColor"
                      stroke-width="1.6"
                      stroke-linecap="round"
                    />
                    <rect
                      x="3"
                      y="7"
                      width="18"
                      height="14"
                      rx="2"
                      stroke="currentColor"
                      stroke-width="1.6"
                    />
                  </svg>
                </span>
                <span id="success-exp-guests">Guests: —</span>
              </div>
            </div>

            <p class="text-xs sm:text-[0.8rem] text-slate-500 mt-3">
              Full details, address, and host contact will be available in your <span class="font-medium">My Bookings</span> page.
            </p>
          </div>
        </div>

        <!-- Viral Loop / Invite Section -->
        <section class="bg-white/90 border border-white shadow-soft-card rounded-3xl px-5 sm:px-7 py-6 sm:py-7 space-y-4">
          <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
            <div>
              <p class="text-xs uppercase tracking-[0.20em] text-slate-500 mb-1">
                Share the table
              </p>
              <h3 class="heading-serif text-lg sm:text-xl font-semibold text-tsts-ink">
                Dining is better together.
              </h3>
              <p class="text-sm text-slate-700 max-w-md mt-1">
                Invite a friend to join this experience. They get a personal invite — you get better stories at the table.
              </p>
            </div>
          </div>

          <div class="mt-3 space-y-3">
            <label class="text-xs font-medium text-slate-700 block mb-1">
              Your invite link
            </label>
            <div class="flex flex-col sm:flex-row gap-2">
              <input
                id="invite-link-input"
                type="text"
                readonly
                class="flex-1 rounded-xl border border-slate-200 bg-slate-50/70 px-3 py-2 text-xs sm:text-sm text-slate-800 truncate focus:outline-none focus:ring-2 focus:ring-tsts-clay/60 focus:border-transparent"
                value=""
              />
              <button
                id="copy-invite-btn"
                type="button"
                class="inline-flex items-center justify-center rounded-xl bg-tsts-ink px-4 py-2 text-xs sm:text-sm font-semibold text-white shadow hover:bg-slate-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-tsts-ink transition"
              >
                Copy link
              </button>
            </div>
            <p id="copy-feedback" class="text-[0.7rem] text-emerald-600 hidden">
              Link copied to clipboard. See you at the table. ✨
            </p>
          </div>
        </section>

        <!-- Navigation Buttons -->
        <section class="flex flex-col sm:flex-row gap-3 sm:gap-4">
          <a
            href="my-bookings.html"
            id="view-ticket-btn"
            class="inline-flex items-center justify-center w-full sm:w-auto rounded-xl bg-tsts-ink px-4 py-2.5 text-sm font-semibold text-white shadow hover:bg-slate-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-tsts-ink transition"
          >
            View my ticket
          </a>
          <a
            href="explore.html"
            class="inline-flex items-center justify-center w-full sm:w-auto rounded-xl border border-slate-300 bg-white/80 px-4 py-2.5 text-sm font-semibold text-slate-800 shadow-sm hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-300 transition"
          >
            Browse more experiences
          </a>
        </section>
      </section>

      <!-- Error State -->
      <section
        id="error-state"
        class="hidden text-center max-w-lg mx-auto py-16 space-y-4"
      >
        <div class="mx-auto flex h-14 w-14 items-center justify-center rounded-full bg-red-100 text-red-500">
          <svg class="h-7 w-7" viewBox="0 0 24 24" fill="none">
            <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="1.6" />
            <path d="M12 8V13" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" />
            <circle cx="12" cy="16" r="0.9" fill="currentColor" />
          </svg>
        </div>
        <h2 class="heading-serif text-xl sm:text-2xl font-semibold text-tsts-ink">
          We couldn’t confirm this booking.
        </h2>
        <p id="error-message" class="text-sm sm:text-base text-slate-700">
          Something went wrong while verifying your payment. Please try again, or check your My Bookings page.
        </p>
        <div class="flex flex-col sm:flex-row justify-center gap-3 mt-4">
          <a
            href="my-bookings.html"
            class="inline-flex items-center justify-center rounded-xl bg-tsts-ink px-4 py-2.5 text-sm font-semibold text-white shadow hover:bg-slate-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-tsts-ink transition"
          >
            Go to My Bookings
          </a>
          <a
            href="explore.html"
            class="inline-flex items-center justify-center rounded-xl border border-slate-300 bg-white/80 px-4 py-2.5 text-sm font-semibold text-slate-800 shadow-sm hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-300 transition"
          >
            Back to Explore
          </a>
        </div>
      </section>
    </div>
  </main>

  <!-- Shared Footer Placeholder -->
  <footer id="footer-placeholder"></footer>

  <!-- Common layout (navbar/footer injection) -->
  <script src="js/common.js?v=20251230_162600"></script>
  <!-- Page logic -->
  <script src="js/success.js?v=20251230_130000"></script>
</body>
</html>
